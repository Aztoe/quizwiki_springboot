<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.multi.quizwiki.qboard">
  <!--게시물 등록  -->
  	<insert id="insert" parameterType="qboard" useGeneratedKeys="true" keyProperty="qboard_id">
    INSERT INTO qboard 
    VALUES (#{qboard_id}, #{member_id},#{category},#{title}, #{content}, now(),null,0,0,0)
</insert>
  <!-- 게시글 상세정보조회 -->
  <select id="findById" parameterType="Long" resultType="qboard">
  	select * from qboard where qboard_id =#{qboard_id}
  	
  </select> 
 <!-- 게시글 리스트 -->
  <select id="selectqboardlist" resultType="com.multi.quizwiki.qboard.dto.SearchDto" parameterType="qboard">
  		select * from qboard ORDER BY regdate DESC 
  		 LIMIT #{pagination.limitStart}, #{recordSize}
  <!-- 게시글 수정  -->
  </select> 
   <update id="update" parameterType="qboard">
   		update qboard set editDate = now() 
   						,title =#{title}
   						,content=#{content}
   						,member_id=#{member_id}
   			where  
   				qboard_id =#{qboard_id}
   </update>
	<!--  게시글 삭제 -->
	<delete id="deleteById" parameterType="long" >
			delete from qboard where qboard_id=#{qboard_id}
	</delete>
  <!-- 게시글 수 카운트 -->
  <select id="count" parameterType="com.multi.quizwiki.qboard.dto.SearchDto" resultType="int">
  	select 
  		count(*)
  	from 
  		qboard
  		
  </select>
  </mapper>